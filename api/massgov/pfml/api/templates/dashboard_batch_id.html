<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>Batch job {{ entry.import_log_id }} - PFML API</title>

    <style type="text/css">
        html { font-family: Noto Sans VF,Noto Sans,Helvetica,sans-serif; }
        table { border-collapse: collapse; margin: 0 0 0.7em 0; width: 100%; }
        th, td { border-bottom: solid 1px #ddd; padding: 0.2em; vertical-align: top; }
        th { font-weight: 600; text-align: left; }
        .report { white-space: pre-wrap; }
    </style>
</head>

<body>
    <h1>Batch job {{ entry.import_log_id }}</h1>
    <p><em>All times in UTC. Current UTC time is {{ now.strftime("%Y-%m-%d %H:%M:%S") }}.</em></p>

    <table>
        <tr>
            <th>Id</th>
            <td>{{ entry.import_log_id }}</td>
        </tr>
        <tr>
            <th>Start</th>
            <td>{{ entry.start.strftime("%Y-%m-%d %H:%M:%S") if entry.start }}</td>
        </tr>
        <tr>
            <th>End</th>
            <td>{{ entry.end.strftime("%Y-%m-%d %H:%M:%S") if entry.end }}</td>
        </tr>
        <tr>
            <th>Duration</th>
            <td>{{ (entry.end - entry.start).total_seconds()|round(1, 'floor') ~ "s" if (entry.start and entry.end) }}</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>{{ entry.source }}</td>
        </tr>
        <tr>
            <th>Type</th>
            <td>{{ entry.import_type }}</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>{{ entry.status }}</td>
        </tr>
        <tr>
            <th>Report</th>
            <td class="report">{{ entry.report if entry.report }}</td>
        </tr>
    </table>
</body>
</html>
